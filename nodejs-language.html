<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node.js - JavaScript Runtime</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">
            <a href="index.html">CodeLearn Hub</a>
        </div>
        <div class="nav-menu">
            <a href="index.html" class="nav-link">Home</a>
            <a href="index.html#programming-languages" class="nav-link">Languages</a>
            <a href="index.html#coding-schemes" class="nav-link">Schemes</a>
            <a href="index.html#number-system" class="nav-link">Number System</a>
            <a href="index.html#compiler" class="nav-link">Compiler</a>
            <a href="index.html#challenges" class="nav-link">Challenges</a>
            <a href="index.html#progress" class="nav-link">Progress</a>
            <a href="index.html#ai-bot" class="nav-link">AI Bot</a>
            <a href="index.html#oop" class="nav-link">OOP</a>
        </div>
        <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </nav>

    <main class="main-content">
        <div class="language-detail-page">
            <div class="page-header">
                <h1>ðŸŸ¢ Node.js</h1>
                <p>JavaScript runtime built on Chrome's V8 engine for building scalable network applications</p>
            </div>

            <div class="language-overview">
                <div class="overview-card">
                    <h2>Runtime Overview</h2>
                    <p>Node.js is an open-source, cross-platform JavaScript runtime environment that executes JavaScript code outside of a web browser. It allows developers to use JavaScript for server-side scripting, making it possible to build fast, scalable network applications.</p>
                    
                    <div class="language-stats">
                        <div class="stat">
                            <div class="stat-label">First Released</div>
                            <div class="stat-value">2009</div>
                        </div>
                        <div class="stat">
                            <div class="stat-label">Latest Version</div>
                            <div class="stat-value">20.0+</div>
                        </div>
                        <div class="stat">
                            <div class="stat-label">Engine</div>
                            <div class="stat-value">V8 (Chrome)</div>
                        </div>
                        <div class="stat">
                            <div class="stat-label">Package Manager</div>
                            <div class="stat-value">npm/yarn</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="language-sections">
                <!-- Key Features -->
                <div class="section-card">
                    <h3>Key Features</h3>
                    <div class="features-grid">
                        <div class="feature-item">
                            <h4>Event-Driven</h4>
                            <p>Non-blocking I/O model with event loop architecture</p>
                        </div>
                        <div class="feature-item">
                            <h4>Single Threaded</h4>
                            <p>Uses a single-threaded event loop for concurrency</p>
                        </div>
                        <div class="feature-item">
                            <h4>Cross-Platform</h4>
                            <p>Runs on Windows, macOS, Linux, and Unix systems</p>
                        </div>
                        <div class="feature-item">
                            <h4>NPM Ecosystem</h4>
                            <p>Largest package registry with millions of packages</p>
                        </div>
                    </div>
                </div>

                <!-- Basic Usage -->
                <div class="section-card">
                    <h3>Basic Usage</h3>
                    <div class="code-example">
                        <pre><code>// Simple HTTP server
const http = require('http');

const server = http.createServer((req, res) => {
    res.writeHead(200, { 'Content-Type': 'text/plain' });
    res.end('Hello World\n');
});

server.listen(3000, () => {
    console.log('Server running at http://localhost:3000/');
});

// File system operations
const fs = require('fs');

fs.readFile('input.txt', 'utf8', (err, data) => {
    if (err) {
        console.error('Error reading file:', err);
        return;
    }
    console.log('File contents:', data);
});

// Async/await with promises
const util = require('util');
const readFile = util.promisify(fs.readFile);

async function readFileAsync() {
    try {
        const data = await readFile('input.txt', 'utf8');
        console.log('File contents:', data);
    } catch (err) {
        console.error('Error reading file:', err);
    }
}</code></pre>
                    </div>
                </div>

                <!-- Core Modules -->
                <div class="section-card">
                    <h3>Core Modules</h3>
                    <div class="features-grid">
                        <div class="feature-item">
                            <h4>http/https</h4>
                            <p>HTTP server and client functionality</p>
                        </div>
                        <div class="feature-item">
                            <h4>fs</h4>
                            <p>File system operations and file I/O</p>
                        </div>
                        <div class="feature-item">
                            <h4>path</h4>
                            <p>File and directory path utilities</p>
                        </div>
                        <div class="feature-item">
                            <h4>events</h4>
                            <p>Event emitter and event handling</p>
                        </div>
                    </div>
                </div>

                <!-- Web Development -->
                <div class="section-card">
                    <h3>Web Development</h3>
                    <div class="code-example">
                        <pre><code>// Express.js web framework
const express = require('express');
const app = express();

// Middleware
app.use(express.json());
app.use(express.static('public'));

// Routes
app.get('/api/users', (req, res) => {
    res.json({ users: ['John', 'Jane', 'Bob'] });
});

app.post('/api/users', (req, res) => {
    const { name, email } = req.body;
    // Save user logic here
    res.status(201).json({ message: 'User created', name, email });
});

// Error handling middleware
app.use((err, req, res, next) => {
    console.error(err.stack);
    res.status(500).json({ error: 'Something went wrong!' });
});

app.listen(3000, () => {
    console.log('Express server running on port 3000');
});</code></pre>
                    </div>
                </div>

                <!-- Package Management -->
                <div class="section-card">
                    <h3>Package Management</h3>
                    <div class="features-grid">
                        <div class="feature-item">
                            <h4>npm</h4>
                            <p>Default package manager for Node.js</p>
                        </div>
                        <div class="feature-item">
                            <h4>yarn</h4>
                            <p>Fast, reliable alternative to npm</p>
                        </div>
                        <div class="feature-item">
                            <h4>package.json</h4>
                            <p>Project configuration and dependencies</p>
                        </div>
                        <div class="feature-item">
                            <h4>node_modules</h4>
                            <p>Directory containing installed packages</p>
                        </div>
                    </div>
                </div>

                <!-- Popular Frameworks -->
                <div class="section-card">
                    <h3>Popular Frameworks</h3>
                    <div class="frameworks-grid">
                        <div class="framework-item">
                            <h4>Express.js</h4>
                            <p>Minimal and flexible web application framework</p>
                        </div>
                        <div class="framework-item">
                            <h4>Koa.js</h4>
                            <p>Next generation web framework by Express team</p>
                        </div>
                        <div class="framework-item">
                            <h4>Nest.js</h4>
                            <p>Progressive Node.js framework with TypeScript support</p>
                        </div>
                        <div class="framework-item">
                            <h4>Fastify</h4>
                            <p>Fast and low overhead web framework</p>
                        </div>
                    </div>
                </div>

                <!-- Database Integration -->
                <div class="section-card">
                    <h3>Database Integration</h3>
                    <div class="code-example">
                        <pre><code>// MongoDB with Mongoose
const mongoose = require('mongoose');

mongoose.connect('mongodb://localhost/test', {
    useNewUrlParser: true,
    useUnifiedTopology: true
});

const User = mongoose.model('User', {
    name: String,
    email: String,
    age: Number
});

// Create user
const user = new User({ name: 'John', email: 'john@example.com', age: 30 });
user.save().then(() => console.log('User saved'));

// PostgreSQL with Sequelize
const { Sequelize, DataTypes } = require('sequelize');
const sequelize = new Sequelize('database', 'username', 'password', {
    host: 'localhost',
    dialect: 'postgres'
});

const User = sequelize.define('User', {
    name: DataTypes.STRING,
    email: DataTypes.STRING,
    age: DataTypes.INTEGER
});</code></pre>
                    </div>
                </div>

                <!-- Best Practices -->
                <div class="section-card">
                    <h3>Best Practices</h3>
                    <div class="best-practices">
                        <div class="practice-item">
                            <h4>Error Handling</h4>
                            <p>Use try-catch blocks and error middleware</p>
                        </div>
                        <div class="practice-item">
                            <h4>Environment Variables</h4>
                            <p>Use .env files for configuration</p>
                        </div>
                        <div class="practice-item">
                            <h4>Logging</h4>
                            <p>Implement proper logging with Winston or Bunyan</p>
                        </div>
                        <div class="practice-item">
                            <h4>Security</h4>
                            <p>Use helmet, cors, and input validation</p>
                        </div>
                    </div>
                </div>

                <!-- Related Technologies -->
                <div class="section-card">
                    <h3>Related Technologies</h3>
                    <div class="related-tech">
                        <div class="tech-item">
                            <h4>MongoDB</h4>
                            <p>NoSQL database commonly used with Node.js</p>
                        </div>
                        <div class="tech-item">
                            <h4>Redis</h4>
                            <p>In-memory data structure store for caching</p>
                        </div>
                        <div class="tech-item">
                            <h4>Docker</h4>
                            <p>Containerization for Node.js applications</p>
                        </div>
                        <div class="tech-item">
                            <h4>PM2</h4>
                            <p>Process manager for Node.js applications</p>
                        </div>
                    </div>
                </div>

                <!-- Complete Node.js Reference -->
                <div class="section-card">
                    <h3>ðŸŸ¢ Complete Node.js Reference</h3>
                    <div class="resources-grid">
                        <div class="resource-item">
                            <h4>Core Modules & File System</h4>
                            <div class="code-example">
                                <pre><code>// File System Operations
const fs = require('fs').promises;
const path = require('path');

// Async file operations
async function processFiles() {
    try {
        // Read file
        const content = await fs.readFile('input.txt', 'utf8');
        
        // Process content
        const processed = content.toUpperCase();
        
        // Write to new file
        await fs.writeFile('output.txt', processed);
        
        // Create directory
        await fs.mkdir('processed', { recursive: true });
        
        // Move file
        await fs.rename('output.txt', 'processed/output.txt');
        
        console.log('Files processed successfully');
    } catch (error) {
        console.error('Error:', error.message);
    }
}

// Stream operations for large files
const fsSync = require('fs');
const readStream = fsSync.createReadStream('large-file.txt');
const writeStream = fsSync.createWriteStream('output.txt');

readStream.pipe(writeStream);

readStream.on('data', (chunk) => {
    console.log('Processing chunk:', chunk.length, 'bytes');
});

writeStream.on('finish', () => {
    console.log('File processing complete');
});</code></pre>
                            </div>
                        </div>
                        <div class="resource-item">
                            <h4>HTTP Server & Express.js</h4>
                            <div class="code-example">
                                <pre><code>// Basic HTTP Server
const http = require('http');

const server = http.createServer((req, res) => {
    const { method, url } = req;
    
    if (method === 'GET' && url === '/api/users') {
        res.writeHead(200, { 'Content-Type': 'application/json' });
        res.end(JSON.stringify({ users: [] }));
    } else if (method === 'POST' && url === '/api/users') {
        let body = '';
        req.on('data', chunk => body += chunk);
        req.on('end', () => {
            const user = JSON.parse(body);
            res.writeHead(201, { 'Content-Type': 'application/json' });
            res.end(JSON.stringify({ message: 'User created', user }));
        });
    } else {
        res.writeHead(404);
        res.end('Not Found');
    }
});

server.listen(3000, () => {
    console.log('Server running on port 3000');
});

// Express.js Application
const express = require('express');
const app = express();

// Middleware
app.use(express.json());
app.use(express.urlencoded({ extended: true }));

// Custom middleware
app.use((req, res, next) => {
    console.log(`${req.method} ${req.path} - ${new Date().toISOString()}`);
    next();
});

// Routes
app.get('/api/users', async (req, res) => {
    try {
        const users = await User.find();
        res.json(users);
    } catch (error) {
        res.status(500).json({ error: error.message });
    }
});

app.post('/api/users', async (req, res) => {
    try {
        const user = new User(req.body);
        await user.save();
        res.status(201).json(user);
    } catch (error) {
        res.status(400).json({ error: error.message });
    }
});</code></pre>
                            </div>
                        </div>
                        <div class="resource-item">
                            <h4>Async Programming & Promises</h4>
                            <div class="code-example">
                                <pre><code>// Promise-based operations
function fetchUserData(userId) {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            if (userId > 0) {
                resolve({ id: userId, name: 'John Doe', email: 'john@example.com' });
            } else {
                reject(new Error('Invalid user ID'));
            }
        }, 1000);
    });
}

// Async/await with error handling
async function processUser(userId) {
    try {
        const user = await fetchUserData(userId);
        const profile = await fetchUserProfile(user.id);
        const settings = await fetchUserSettings(user.id);
        
        return { ...user, profile, settings };
    } catch (error) {
        console.error('Error processing user:', error.message);
        throw error;
    }
}

// Promise.all for parallel execution
async function fetchMultipleUsers(userIds) {
    try {
        const promises = userIds.map(id => fetchUserData(id));
        const users = await Promise.all(promises);
        return users;
    } catch (error) {
        console.error('Error fetching users:', error.message);
        return [];
    }
}

// Promise.race for timeout
function withTimeout(promise, timeoutMs) {
    const timeoutPromise = new Promise((_, reject) => {
        setTimeout(() => reject(new Error('Timeout')), timeoutMs);
    });
    
    return Promise.race([promise, timeoutPromise]);
}</code></pre>
                            </div>
                        </div>
                        <div class="resource-item">
                            <h4>Event Emitters & Streams</h4>
                            <div class="code-example">
                                <pre><code>// Custom Event Emitter
const EventEmitter = require('events');

class UserManager extends EventEmitter {
    constructor() {
        super();
        this.users = new Map();
    }
    
    addUser(user) {
        this.users.set(user.id, user);
        this.emit('userAdded', user);
    }
    
    removeUser(userId) {
        const user = this.users.get(userId);
        if (user) {
            this.users.delete(userId);
            this.emit('userRemoved', user);
        }
    }
    
    getUser(userId) {
        return this.users.get(userId);
    }
}

// Using the event emitter
const userManager = new UserManager();

userManager.on('userAdded', (user) => {
    console.log('User added:', user.name);
});

userManager.on('userRemoved', (user) => {
    console.log('User removed:', user.name);
});

// Custom streams
const { Readable, Writable, Transform } = require('stream');

class NumberGenerator extends Readable {
    constructor(max) {
        super({ objectMode: true });
        this.max = max;
        this.current = 0;
    }
    
    _read() {
        if (this.current >= this.max) {
            this.push(null);
        } else {
            this.push({ number: this.current++ });
        }
    }
}

class NumberProcessor extends Transform {
    constructor() {
        super({ objectMode: true });
    }
    
    _transform(chunk, encoding, callback) {
        const processed = {
            original: chunk.number,
            squared: chunk.number ** 2,
            doubled: chunk.number * 2
        };
        this.push(processed);
        callback();
    }
}</code></pre>
                            </div>
                        </div>
                        <div class="resource-item">
                            <h4>Database Integration & ORM</h4>
                            <div class="code-example">
                                <pre><code>// MongoDB with Mongoose
const mongoose = require('mongoose');

// Connect to MongoDB
mongoose.connect('mongodb://localhost:27017/myapp', {
    useNewUrlParser: true,
    useUnifiedTopology: true
});

// Define schemas
const userSchema = new mongoose.Schema({
    name: { type: String, required: true },
    email: { type: String, required: true, unique: true },
    age: { type: Number, min: 0 },
    createdAt: { type: Date, default: Date.now }
});

// Add methods to schema
userSchema.methods.getFullInfo = function() {
    return `${this.name} (${this.email}) - Age: ${this.age}`;
};

// Add static methods
userSchema.statics.findByAgeRange = function(minAge, maxAge) {
    return this.find({ age: { $gte: minAge, $lte: maxAge } });
};

// Add virtual properties
userSchema.virtual('isAdult').get(function() {
    return this.age >= 18;
});

const User = mongoose.model('User', userSchema);

// CRUD operations
async function userOperations() {
    try {
        // Create
        const user = new User({ name: 'John', email: 'john@example.com', age: 30 });
        await user.save();
        
        // Read
        const users = await User.findByAgeRange(18, 65);
        const adultUsers = await User.find({ age: { $gte: 18 } });
        
        // Update
        await User.updateOne({ _id: user._id }, { age: 31 });
        
        // Delete
        await User.deleteOne({ _id: user._id });
        
    } catch (error) {
        console.error('Database error:', error.message);
    }
}</code></pre>
                            </div>
                        </div>
                        <div class="resource-item">
                            <h4>Testing & Debugging</h4>
                            <div class="code-example">
                                <pre><code>// Unit testing with Jest
const { add, multiply, divide } = require('./math');

describe('Math Operations', () => {
    test('adds two numbers correctly', () => {
        expect(add(2, 3)).toBe(5);
        expect(add(-1, 1)).toBe(0);
        expect(add(0, 0)).toBe(0);
    });
    
    test('multiplies two numbers correctly', () => {
        expect(multiply(2, 3)).toBe(6);
        expect(multiply(-2, 3)).toBe(-6);
        expect(multiply(0, 5)).toBe(0);
    });
    
    test('divides two numbers correctly', () => {
        expect(divide(6, 2)).toBe(3);
        expect(divide(5, 2)).toBe(2.5);
    });
    
    test('throws error when dividing by zero', () => {
        expect(() => divide(5, 0)).toThrow('Division by zero');
    });
});

// Integration testing
const request = require('supertest');
const app = require('../app');

describe('User API', () => {
    test('GET /api/users returns users list', async () => {
        const response = await request(app)
            .get('/api/users')
            .expect(200);
        
        expect(response.body).toHaveProperty('users');
        expect(Array.isArray(response.body.users)).toBe(true);
    });
    
    test('POST /api/users creates new user', async () => {
        const newUser = { name: 'Test User', email: 'test@example.com' };
        
        const response = await request(app)
            .post('/api/users')
            .send(newUser)
            .expect(201);
        
        expect(response.body).toHaveProperty('_id');
        expect(response.body.name).toBe(newUser.name);
    });
});</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="script.js"></script>
</body>
</html>
